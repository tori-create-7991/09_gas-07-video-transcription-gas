# MP4 â†’ M4A å¤‰æ›ãƒ„ãƒ¼ãƒ«ï¼ˆDockerï¼‰

FFmpegã‚’ä½¿ç”¨ã—ã¦MP4å‹•ç”»ã‹ã‚‰éŸ³å£°ï¼ˆM4Aï¼‰ã‚’æŠ½å‡ºã™ã‚‹Dockerãƒ„ãƒ¼ãƒ«ã§ã™ã€‚

## å¿…è¦ãªã‚‚ã®

- Docker
- Docker Compose

## ä½¿ã„æ–¹

### 1. MP4ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é…ç½®

`input/` ãƒ•ã‚©ãƒ«ãƒ€ã«MP4ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é…ç½®ã—ã¾ã™ã€‚

```
docker-converter/
â”œâ”€â”€ input/
â”‚   â”œâ”€â”€ video1.mp4
â”‚   â”œâ”€â”€ video2.mp4
â”‚   â””â”€â”€ ...
â””â”€â”€ output/
```

### 2. å¤‰æ›ã‚’å®Ÿè¡Œ

```bash
cd docker-converter
docker compose up --build
```

### 3. å‡ºåŠ›ã‚’ç¢ºèª

`output/` ãƒ•ã‚©ãƒ«ãƒ€ã«M4Aãƒ•ã‚¡ã‚¤ãƒ«ãŒç”Ÿæˆã•ã‚Œã¾ã™ã€‚

```
docker-converter/
â”œâ”€â”€ input/
â”‚   â”œâ”€â”€ video1.mp4
â”‚   â””â”€â”€ video2.mp4
â””â”€â”€ output/
    â”œâ”€â”€ video1.m4a  â† ç”Ÿæˆã•ã‚ŒãŸéŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«
    â””â”€â”€ video2.m4a
```

## ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºã®ç›®å®‰

| å…ƒå‹•ç”» | å¤‰æ›å¾ŒéŸ³å£° | å‰Šæ¸›ç‡ |
|--------|-----------|--------|
| 100MB | ç´„10MB | 90%å‰Šæ¸› |
| 500MB | ç´„50MB | 90%å‰Šæ¸› |
| 1GB | ç´„100MB | 90%å‰Šæ¸› |

## å¤‰æ›å¾Œã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

1. `output/` ãƒ•ã‚©ãƒ«ãƒ€ã®M4Aãƒ•ã‚¡ã‚¤ãƒ«ã‚’Google Driveã®ç›£è¦–ãƒ•ã‚©ãƒ«ãƒ€ã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
2. GASã§ã€ŒğŸ” æ–°è¦ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ¤œç´¢ã€ã‚’å®Ÿè¡Œ
3. ã€Œâ–¶ï¸ æœªå‡¦ç†ã‚’å…¨ã¦å®Ÿè¡Œã€ã§æ–‡å­—èµ·ã“ã—

## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### å¤‰æ›ã«å¤±æ•—ã™ã‚‹å ´åˆ

éŸ³å£°ã‚³ãƒ¼ãƒ‡ãƒƒã‚¯ãŒã‚³ãƒ”ãƒ¼ã§ããªã„å ´åˆã¯ã€å†ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ãŒå¿…è¦ã§ã™ã€‚
`convert.sh` ã®ä»¥ä¸‹ã®è¡Œã‚’å¤‰æ›´ï¼š

```bash
# å¤‰æ›´å‰ï¼ˆéŸ³å£°ã‚³ãƒ”ãƒ¼ï¼‰
ffmpeg -i "$input_file" -vn -acodec copy "$output_file"

# å¤‰æ›´å¾Œï¼ˆAACå†ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ï¼‰
ffmpeg -i "$input_file" -vn -acodec aac -b:a 128k "$output_file"
```

### DockerãŒãªã„å ´åˆ

FFmpegã‚’ç›´æ¥ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ä½¿ç”¨ï¼š

```bash
# Mac
brew install ffmpeg

# Ubuntu/Debian
sudo apt install ffmpeg

# å¤‰æ›ã‚³ãƒãƒ³ãƒ‰
ffmpeg -i input.mp4 -vn -acodec copy output.m4a
```
